import{h,r as d,o as p,_ as g,a as c,e as l,i as o,j as f,u as v,c as I,t as y,p as b,k as S,n as k,d as D,l as L}from"./index.279db9f2.js";const m=h("breedStore",()=>{const s=d(!1),e=()=>{s.value=!0},t=()=>{s.value=!1},a=d(""),r=n=>{a.value=n},i=d([]),_=()=>{localStorage.setItem("favourites",JSON.stringify(i.value))},u=()=>{const n=JSON.parse(localStorage.getItem("favourites")||"[]");i.value=n};return p(()=>{u()}),{isLoading:s,error:a,favouriteImages:i,startLoading:e,stopLoading:t,setError:r,saveFavouriteImages:_}});const T={},$={class:"loader"};function C(s,e){return c(),l("div",$)}const F=g(T,[["render",C],["__scopeId","data-v-170303ae"]]);const x=s=>(b("data-v-3b4d2b64"),s=s(),S(),s),B={class:"dogs"},U={class:"container"},N={class:"dogs__title"},w=x(()=>o("p",{class:"dogs__hint"},"Tap twice to toggle favourite!",-1)),A={key:1,class:"dogs__error"},E={key:2,class:"dogs__grid"},G={__name:"TheGrid",setup(s){const e=m();return(t,a)=>(c(),l("section",B,[o("div",U,[o("h1",N,[f(t.$slots,"title",{},void 0,!0)]),w,v(e).isLoading?(c(),I(F,{key:0})):!v(e).isLoading&&v(e).error?(c(),l("p",A,y(v(e).error),1)):(c(),l("div",E,[f(t.$slots,"default",{},void 0,!0)]))])]))}},H=g(G,[["__scopeId","data-v-3b4d2b64"]]),J=(s,e)=>{let t=!1;const a=r=>{if(!t)return t=!0,setTimeout(()=>{t=!1},500),!1;r.preventDefault(),e()};s.addEventListener("touchstart",a)};const O={class:"card__image ibg"},V=["src"],j={class:"card__action"},q={__name:"DogsCard",props:{imageUrl:{type:String,required:!0},favourite:{type:Boolean,default:!1}},setup(s){const e=s,t=d(!1),a=m(),r=()=>{if(a.favouriteImages.includes(e.imageUrl)){const u=a.favouriteImages.filter(n=>n!==e.imageUrl);a.favouriteImages=u,t.value=!1}else a.favouriteImages.push(e.imageUrl),t.value=!0;a.saveFavouriteImages()},i=()=>{a.favouriteImages.includes(e.imageUrl)?t.value=!0:t.value=!1},_=d(null);return p(()=>{i(),J(_.value,r)}),(u,n)=>(c(),l("article",{class:"card",ref_key:"dogsCard",ref:_},[o("div",O,[o("img",{src:s.imageUrl,alt:""},null,8,V)]),o("div",j,[o("button",{type:"button",class:k(["like-button",{"like-button--favourite":t.value||e.favourite}]),onClick:r},[D(L)],2)])],512))}},M=g(q,[["__scopeId","data-v-1130e7aa"]]);export{M as D,H as T,m as u};
