import{h,r as d,o as p,_ as v,a as n,e as l,i as o,j as g,u as f,c as I,t as y,p as b,k as S,n as k,d as D,l as L}from"./index.5310b2d3.js";const m=h("breedStore",()=>{const s=d(!1),e=()=>{s.value=!0},t=()=>{s.value=!1},a=d(""),r=c=>{a.value=c},i=d([]),_=()=>{localStorage.setItem("favourites",JSON.stringify(i.value))},u=()=>{const c=JSON.parse(localStorage.getItem("favourites")||"[]");i.value=c};return p(()=>{u()}),{isLoading:s,error:a,favouriteImages:i,startLoading:e,stopLoading:t,setError:r,saveFavouriteImages:_}});const T={},$={class:"loader"};function C(s,e){return n(),l("div",$)}const F=v(T,[["render",C],["__scopeId","data-v-6fa2c17c"]]);const x=s=>(b("data-v-2049fbfd"),s=s(),S(),s),B={class:"dogs"},U={class:"container"},N={class:"dogs__title"},w=x(()=>o("p",{class:"dogs__hint"},"Tap twice to toggle favourite!",-1)),A={key:1,class:"dogs__error"},E={key:2,class:"dogs__grid"},G={__name:"TheGrid",setup(s){const e=m();return(t,a)=>(n(),l("section",B,[o("div",U,[o("h1",N,[g(t.$slots,"title",{},void 0,!0)]),w,f(e).isLoading?(n(),I(F,{key:0})):!f(e).isLoading&&f(e).error?(n(),l("p",A,y(f(e).error),1)):(n(),l("div",E,[g(t.$slots,"default",{},void 0,!0)]))])]))}},H=v(G,[["__scopeId","data-v-2049fbfd"]]),J=(s,e)=>{let t=!1;const a=r=>{if(!t)return t=!0,setTimeout(()=>{t=!1},500),!1;r.preventDefault(),e()};s.addEventListener("touchstart",a)};const O={class:"card__image ibg"},V=["src"],j={class:"card__action"},q={__name:"DogsCard",props:{imageUrl:{type:String,required:!0},favourite:{type:Boolean,default:!1}},setup(s){const e=s,t=d(!1),a=m(),r=()=>{if(a.favouriteImages.includes(e.imageUrl)){const u=a.favouriteImages.filter(c=>c!==e.imageUrl);a.favouriteImages=u,t.value=!1}else a.favouriteImages.push(e.imageUrl),t.value=!0;a.saveFavouriteImages()},i=()=>{a.favouriteImages.includes(e.imageUrl)?t.value=!0:t.value=!1},_=d(null);return p(()=>{i(),J(_.value,r)}),(u,c)=>(n(),l("article",{class:"card",ref_key:"dogsCard",ref:_},[o("div",O,[o("img",{src:s.imageUrl,alt:""},null,8,V)]),o("div",j,[o("button",{type:"button",class:k(["like-button",{"like-button--favourite":t.value||e.favourite}]),onClick:r},[D(L)],2)])],512))}},M=v(q,[["__scopeId","data-v-f95eb2bc"]]);export{M as D,H as T,m as u};
