import{_ as g,o as c,c as _,l as I,a as f,b as m,d as h,i as o,r as d,u as i,m as k,e as $,t as b,n as C,q as S,g as D,s as L}from"./index.39b75c97.js";const F={},T={class:"loader"};function U(a,e){return c(),_("div",T)}const B=g(F,[["render",U],["__scopeId","data-v-6fa2c17c"]]),y=I("breedStore",()=>{const a=f(!1),e=()=>{a.value=!0},s=()=>{a.value=!1},t=f(""),r=n=>{t.value=n},l=f([]),v=()=>{localStorage.setItem("favourites",JSON.stringify(l.value))},u=()=>{const n=JSON.parse(localStorage.getItem("favourites")||"[]");l.value=n};return m(()=>{u()}),{isLoading:a,error:t,favouriteImages:l,startLoading:e,stopLoading:s,setError:r,saveFavouriteImages:v}}),N={class:"dogs"},x={class:"container"},A={class:"dogs__title"},E={key:2,class:"error"},G={key:3,class:"dogs__grid"},V=h({__name:"TheGrid",setup(a){const e=y();return(s,t)=>(c(),_("section",N,[o("div",x,[o("h1",A,[d(s.$slots,"title",{},void 0,!0)]),d(s.$slots,"favourite-hint",{},void 0,!0),i(e).error?k("",!0):d(s.$slots,"tap-hint",{key:0},void 0,!0),i(e).isLoading?(c(),$(B,{key:1})):!i(e).isLoading&&i(e).error?(c(),_("p",E,b(i(e).error),1)):(c(),_("div",G,[d(s.$slots,"default",{},void 0,!0)])),d(s.$slots,"refresh",{},void 0,!0)])]))}});const j=g(V,[["__scopeId","data-v-ab7fc5bf"]]),J=(a,e)=>{let s=!1;const t=r=>{if(!s)return s=!0,setTimeout(()=>{s=!1},500),!1;r.preventDefault(),e()};a.addEventListener("touchstart",t)},O={class:"card__image ibg"},q=["src"],w={class:"card__footer"},z={class:"breed-title"},H=h({__name:"DogsCard",props:{imageUrl:null,favourite:{type:Boolean,default:!1}},setup(a){const e=a,s=f(!1),t=y(),r=()=>{if(t.favouriteImages.includes(e.imageUrl)){const n=t.favouriteImages.filter(p=>p!==e.imageUrl);t.favouriteImages=n,s.value=!1}else t.favouriteImages.push(e.imageUrl),s.value=!0;t.saveFavouriteImages()},l=()=>{t.favouriteImages.includes(e.imageUrl)?s.value=!0:s.value=!1},v=C(()=>e.imageUrl.substring(30).split("/")[0]),u=f(null);return m(()=>{l(),u.value&&J(u.value,r)}),(n,p)=>(c(),_("article",{class:"card",ref_key:"dogsCard",ref:u},[o("div",O,[o("img",{src:a.imageUrl,alt:"If you see this, the image has not been loaded"},null,8,q)]),o("div",w,[o("h2",z,b(i(v)),1),o("button",{type:"button",class:S(["like-button",{"like-button--favourite":s.value||e.favourite}]),"aria-label":"like button",onClick:r},[D(L)],2)])],512))}});const K=g(H,[["__scopeId","data-v-ba79805f"]]);export{K as D,j as T,y as u};
